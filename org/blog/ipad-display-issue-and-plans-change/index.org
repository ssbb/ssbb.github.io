#+TITLE: iPad display issue and plans change
#+DATE: <2025-09-26 Fri>
#+OPTIONS: toc:nil
#+PROJECT: x61r

In [[file:../first-attempt-at-ipad-lcd-separation/index.org][previous post]] I mentioned that I ordered a few dead iPad displays to practice LCD separation. I recently received the first one and decided to test it before attempting separation... and it works! It's a completely functional display with just cracked glass. What a find for $9!

I decided not to destroy it immediately (yeah, I'm realistic about my LCD separation skills) and take some measurements instead. iPad displays don't have an onboard backlight driver, so I need to implement my own. This means I should know at least the LEDs' forward voltage and current per string.

I had prepared a breakout board for the backlight connector a while ago (back when I thought I wouldn't kill the first display), so I quickly assembled it and plugged it in.

[[file:setup-full.jpg][file:setup.jpg]]

Using a shunt resistor to measure current on one of the LED strings, I got about 57 mA peak PWM current and ~18.75V forward voltage per string. That's quite a lot of current, assuming it also has 18 LED strings - but maybe I measured something wrong?

Anyway, I started working on my adapter PCB and realized that this display uses *6 eDP lanes*... That's not really standard (the eDP spec allows for 1, 2, or 4 lanes), but Apple being Apple, they use their own chips and their own display - so why not. The problem is that this makes the display basically unusable elsewhere, since no normal CPU supports 6 eDP lanes.

I checked other iPad schematics I had on hand, and the 11-inch models use 4 lanes. The 12.9-inch models from 1st to 4th gen use 6 eDP lanes. The 5th gen uses 4 lanes, but it has a Mini-LED display, which means there's some custom protocol for backlight control. In theory, it's possible to reverse engineer the Mini-LED backlight protocol and convert a PWM signal into commands to set the brightness of each LED. In practice... probably not.

Not sure how I missed this earlier - I've looked at this display connector schematic hundreds of times - but here we are.

* What's next?
Unfortunately, there are basically no other 4:3 panels in the 12–13 inch range with good resolution. That would normally mean the end of this project. But I had another display bookmarked for a while - the one used in the OPPO Pad 3 Pro.

It's a nice 12.1-inch panel with 3000×2120 resolution and 144Hz refresh rate. The aspect ratio is 5:7 - not exactly 4:3, but also not as wide as 3:2. It's a good compromise and still much better than nothing.

The only catch: it's not eDP but MIPI panel, so I'll need a converter. There are a few on the market, and the best one seems to be the [[https://www.analogix.com/en/products/dp-mipi-converters/anx7580][ANX7580]] used in the Steam Deck. Sadly, you won't be able to get your hands on it unless you're a big corp. Pretty much all modern eDP-to-MIPI chips aren't publicly available (believe me, I've tried really hard to find datasheets) except one - [[https://toshiba.semicon-storage.com/ap-en/semiconductor/product/interface-bridge-ics-for-mobile-peripheral-devices/display-interface-bridge-ics/detail.TC358860XBG.html][TC358860XBG]] by Toshiba. They were kind enough to make the datasheet public, but it's not 100% complete and still missing some required information. It's not as modern as the ANX7580, but it should be enough to drive this panel at 90 Hz with 2:1 compression. We'll see if I can obtain the missing information somewhere.

Overall, MIPI panels are a bit more complicated to work with since there's no standardized protocol. Each panel has its own set of commands, which are usually not documented in the panel datasheet. But since it's an Android device, I should be able to extract the commands from the Devicetree.

On the positive side, it's a 12.1-inch display, so it will most likely fit into a case of the original size - no need to make it larger as I had planned. Most likely even with a glass cover, so I won't need to separate it (yay!).

It's still quite questionable whether I'll be able to make it work, to be honest. Because of this, I have a fallback plan: using a 12.3-inch 3:2 panel by LG - /LP123QP1-SPA2/. It's not as square as 4:3, but still better than 16:9, right? And it's a standard eDP panel that even fully matches the pinout of the BOE display used in the Framework 13 laptop, so it's just plug-and-play (not sure if the connectors are interchangeable, but they look very similar). I plan to use it if I reach a dead end with MIPI converters and there's basically no other choice. Maybe something will change in the future, and then I'll be able to just redesign the A/B covers for the new panel.

Wish me luck!
